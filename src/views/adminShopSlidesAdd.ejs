<%- contentFor("content") %>
<article class="content">
	<div class="title-block">
		<h1 class="title"><%= __("Add Shop Slide") %></h1>
	</div>
	<section class="section">
		<a class="btn btn-secondary history-back" title="" href="#"><i class="fa fa-chevron-left"></i> <%= __("Back to list") %></a>
	</section>
	<section class="section">
		<div class="row">
			<div class="col form">
				<div class="card card-block">
					<form id="form">
						<div class="alert alert-danger" id="errors" style="display: none;"></div>
						<div class="form-group row">
							<div class="col-sm-6">
								<label class="control-label" for="displayDateStart"><%= __("Display start date") %></label>
								<input type="datetime-local" class="form-control boxed" name="displayDateStart" value="<%= moment().tz(user.tz).format("YYYY-MM-DDTHH:mm") %>">
							</div>
							<div class="col-sm-6">
								<label class="control-label" for="displayDateEnd"><%= __("Display end date") %></label>
								<input type="datetime-local" class="form-control boxed" name="displayDateEnd" value="<%= moment().add(365, "days").tz(user.tz).format("YYYY-MM-DDTHH:mm") %>">
							</div>
						</div>
						<div class="form-group">
							<label>
								<input type="checkbox" class="checkbox" name="active" checked="checked">
								<span><%= __("Active") %></span>
							</label>
						</div>
						<div class="form-group row">
							<div class="col-sm-6">
								<div>
									<label class="control-label" for="priority"><%= __("Priority") %></label>
									<input type="number" class="form-control boxed" name="priority" value="0" min="-100000000" max="100000000">
								</div>
								<div class="mt-3">
									<label class="control-label" for="image"><%= __("Background image") %></label>
									<select class="form-control boxed" name="image" id="image">
									<%_ images.forEach(name => { _%>
										<option value="<%= name %>"><%= name %></option>
									<%_ }) _%>
									</select>
								</div>
							</div>
							<div class="col-sm-6 mt-4">
								<img id="imagePreview" src="" height="138" style="display: none;">
							</div>
						</div>
						<div class="form-group row">
							<div class="col-sm-6">
								<div>
									<label class="control-label" for="productId"><%= __("Product ID") %></label>
									<input type="number" class="form-control boxed" name="productId" value="" min="1" max="100000000">
								</div>
							</div>
						</div>
						<div class="form-group row"></div>
						<div class="form-group">
							<button type="submit" class="btn btn-primary"><%= __("Add") %></button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</section>
</article>
<%- contentFor("scripts") %>
<script>
	$(function() {
		function updateImage() {
			var selectedImage = $("#image").val();
			$("#imagePreview").show();
			$("#imagePreview").attr("src", "/static/images/shop-slides-bg/" + selectedImage);
		}
		updateImage();
		$("#image").change(function() {
			updateImage();
		});
		$("#form").validate(config.validations);
	});
</script>